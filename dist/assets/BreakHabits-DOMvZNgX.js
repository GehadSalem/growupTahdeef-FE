import{b,r as m,u as y,j as e,C as h,d as p,e as j,f,g as u,L as d,I as x,h as N,B as o,A as v}from"./index-UcHA7cXD.js";import{a as w,P as C}from"./ProgressCircle-DPDG4LCe.js";import{P as g}from"./plus-D5jEjTHs.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=b("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);function H(){const[s,l]=m.useState(w),{toast:a}=y();return{badHabits:s,setBadHabits:l,addBadHabit:n=>{if(!n.name||!n.goal){a({title:"خطأ",description:"يرجى إدخال اسم العادة والهدف",variant:"destructive"});return}const t={id:Date.now().toString(),name:n.name,goal:n.goal,dayCount:0,alternativeAction:n.alternativeAction||"جرب ممارسة التنفس العميق لمدة دقيقة"};return l([...s,t]),a({title:"تم الإضافة",description:"تمت إضافة العادة بنجاح. أنت تستطيع!"}),t},incrementDayCount:n=>{l(s.map(t=>t.id===n?{...t,dayCount:t.dayCount+1}:t)),a({title:"أحسنت!",description:"يوم إضافي من النجاح! استمر!"})},calculateProgress:(n,t=30)=>Math.min(Math.round(n/t*100),100)}}function A({onAddHabit:s,onCancel:l}){const[a,c]=m.useState({name:"",goal:"",alternativeAction:""}),i=()=>{s(a),c({name:"",goal:"",alternativeAction:""})};return e.jsxs(h,{className:"border border-gray-200",children:[e.jsxs(p,{children:[e.jsx(j,{className:"text-right font-cairo",children:"إضافة عادة جديدة"}),e.jsx(f,{className:"text-right font-cairo",children:"سجل العادة التي تريد الإقلاع عنها"})]}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{className:"text-right block font-cairo",htmlFor:"habit-name",children:"العادة السيئة"}),e.jsx(x,{id:"habit-name",placeholder:"مثال: التدخين، السهر المتأخر...",className:"input-field",value:a.name,onChange:r=>c({...a,name:r.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{className:"text-right block font-cairo",htmlFor:"habit-goal",children:"الهدف"}),e.jsx(x,{id:"habit-goal",placeholder:"مثال: 30 يوم بدون تدخين",className:"input-field",value:a.goal,onChange:r=>c({...a,goal:r.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{className:"text-right block font-cairo",htmlFor:"habit-alternative",children:"البديل (اختياري)"}),e.jsx(x,{id:"habit-alternative",placeholder:"ماذا ستفعل بدلاً من هذه العادة؟",className:"input-field",value:a.alternativeAction,onChange:r=>c({...a,alternativeAction:r.target.value})})]})]}),e.jsxs(N,{className:"flex justify-between",children:[e.jsx(o,{variant:"outline",onClick:l,children:"إلغاء"}),e.jsx(o,{className:"bg-growup hover:bg-growup-dark",onClick:i,children:"إضافة"})]})]})}function B({habit:s,onIncrementDay:l,progressPercentage:a}){return e.jsxs(h,{className:"border-2 border-growup/20",children:[e.jsxs(p,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(j,{className:"text-right font-cairo",children:s.name}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs bg-growup/10 text-growup font-medium",children:s.goal})]}),e.jsx(f,{className:"text-right font-cairo",children:"كم يوم صامد؟"})]}),e.jsxs(u,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"text-growup h-5 w-5"}),e.jsxs("div",{className:"text-2xl font-bold font-cairo text-growup",children:[s.dayCount," ",e.jsx("span",{className:"text-sm font-normal",children:"أيام"})]})]}),e.jsx(C,{percentage:a,size:80,strokeWidth:8})]}),e.jsx("div",{className:"mt-6 p-3 bg-growup/10 rounded-lg",children:e.jsxs("p",{className:"font-cairo font-medium text-right",children:[e.jsx("span",{className:"font-bold",children:"البديل: "}),s.alternativeAction]})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(o,{className:"bg-growup hover:bg-growup-dark",onClick:()=>l(s.id),children:"أضف يوم نجاح ✅"})})]}),e.jsx(N,{className:"justify-center border-t pt-4",children:e.jsx("p",{className:"text-sm text-center text-growup-text font-cairo",children:'"ما في عادة أقوى من إرادتك. انت قادر!"'})})]},s.id)}function M(){return e.jsx(h,{className:"bg-gradient-to-r from-growup/20 to-growup/5 border-none",children:e.jsxs(u,{className:"pt-6",children:[e.jsx("h3",{className:"text-lg font-bold font-cairo mb-3 text-right",children:"نصائح للتغلب على العادات السيئة"}),e.jsxs("ul",{className:"space-y-2 text-right font-cairo",children:[e.jsxs("li",{className:"flex items-center justify-end gap-2",children:[e.jsx("span",{children:"تجنب المحفزات التي تدفعك للعودة للعادة السيئة"}),e.jsx("span",{className:"text-growup text-lg",children:"✓"})]}),e.jsxs("li",{className:"flex items-center justify-end gap-2",children:[e.jsx("span",{children:"استبدل العادة السيئة بعادة إيجابية"}),e.jsx("span",{className:"text-growup text-lg",children:"✓"})]}),e.jsxs("li",{className:"flex items-center justify-end gap-2",children:[e.jsx("span",{children:"شارك تقدمك مع صديق مقرب"}),e.jsx("span",{className:"text-growup text-lg",children:"✓"})]}),e.jsxs("li",{className:"flex items-center justify-end gap-2",children:[e.jsx("span",{children:"كافئ نفسك على كل إنجاز صغير"}),e.jsx("span",{className:"text-growup text-lg",children:"✓"})]})]})]})})}function L(){const{badHabits:s,addBadHabit:l,incrementDayCount:a,calculateProgress:c}=H(),[i,r]=m.useState(!1),n=t=>{l(t)&&r(!1)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(v,{showBackButton:!0,title:"كسر العادات السيئة"}),e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx("section",{className:"mb-6",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md text-center border border-gray-100",children:[e.jsx("h2",{className:"text-xl font-bold font-cairo mb-2",children:"مسار التغيير"}),e.jsx("p",{className:"text-gray-600 mb-4 font-cairo",children:"كل يوم تصمد فيه هو انتصار على نفسك"}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:()=>r(!i),className:"flex items-center justify-center gap-2 text-growup font-bold hover:bg-growup/5 rounded-lg px-4 py-2 transition-colors",children:[e.jsx(g,{className:"h-5 w-5"}),e.jsx("span",{children:"إضافة عادة للتخلص منها"})]})})]})}),i&&e.jsx("section",{className:"mb-6",children:e.jsx(A,{onAddHabit:n,onCancel:()=>r(!1)})}),e.jsxs("section",{className:"space-y-6",children:[s.map(t=>e.jsx(B,{habit:t,onIncrementDay:a,progressPercentage:c(t.dayCount)},t.id)),s.length===0&&!i&&e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("p",{className:"text-gray-500 mb-4 font-cairo",children:"لم تقم بإضافة أي عادات بعد"}),e.jsxs(o,{onClick:()=>r(!0),className:"bg-growup hover:bg-growup-dark",children:[e.jsx(g,{className:"mr-0 ml-2 h-4 w-4"}),"إضافة عادة للتخلص منها"]})]})]}),e.jsx("section",{className:"mt-8",children:e.jsx(M,{})})]})]})}export{L as default};
