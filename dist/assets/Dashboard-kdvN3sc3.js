import{r as g,u as N,j as e,c as v,B as p,a as j,S as w,A as H}from"./index-Dydho1Ek.js";import{S as C,P as S}from"./ProgressCircle-C5jVwdVL.js";import{R as k,X as A,T as D,B as P}from"./generateCategoricalChart-Deu-DJt-.js";import{B as M}from"./BarChart-sPf9bSPc.js";import{H as q,A as B,E}from"./EditHabitDialog-OfI8U1Gm.js";import{P as h}from"./plus-JwWzYVlL.js";import"./square-pen-DcLlAR4z.js";import"./dialog-3lPOuXTU.js";import"./select-DvyfY7ct.js";import"./index-fMh3bV7v.js";import"./chevron-down-To9aUElp.js";function O(){const[t,a]=g.useState(C),{toast:i}=N(),r=()=>{const s=t.filter(n=>n.completed).length;return t.length>0?Math.round(s/t.length*100):0},o=s=>{a(t.map(l=>l.id===s?{...l,completed:!l.completed}:l));const n=t.find(l=>l.id===s);n&&!n.completed&&i({title:"أحسنت! 👏",description:`لقد أكملت "${n.title}"`})},d=s=>{const n={id:Date.now().toString(),title:s.title,category:s.category,completed:!1,icon:m(s.category),frequency:s.frequency};a([...t,n]),i({title:"تمت الإضافة",description:"تم إضافة عادة جديدة بنجاح"})},c=(s,n)=>{a(t.map(l=>l.id===s?{...l,title:n.title,category:n.category,icon:m(n.category),frequency:n.frequency||l.frequency}:l)),i({title:"تم التعديل",description:"تم تعديل العادة بنجاح"})},u=s=>{a(t.filter(n=>n.id!==s)),i({title:"تم الحذف",description:"تم حذف العادة بنجاح"})},m=s=>({learning:"📚",health:"🧘‍♂️",productivity:"⏱️",finance:"💰",social:"👥",other:"✨",تعلم:"📚",صحة:"🧘‍♂️",إنتاجية:"⏱️",مالي:"💰",اجتماعي:"👥",أخرى:"✨"})[s]||"📝";return{habits:t,setHabits:a,toggleHabitComplete:o,addHabit:d,editHabit:c,deleteHabit:u,getIconForCategory:m,calculateDailyProgress:r}}function R({data:t,className:a,barColor:i="#219653"}){const r=t.map((o,d)=>({...o,index:d}));return e.jsx("div",{className:v("w-full h-40",a),children:e.jsx(k,{width:"100%",height:"100%",children:e.jsxs(M,{data:r,margin:{top:5,right:0,left:0,bottom:5},children:[e.jsx(A,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#828282",fontFamily:"Cairo Variable"}}),e.jsx(D,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e0e0",borderRadius:"8px",padding:"8px",fontFamily:"Cairo Variable",textAlign:"right",direction:"rtl"},formatter:(o,d,c)=>{if(c&&c.payload){const u=c.payload.label||"إنجاز";return[`${o}%`,u]}return[`${o}%`,"إنجاز"]},labelFormatter:o=>`${o}`}),e.jsx(P,{dataKey:"value",fill:i,radius:[4,4,0,0],animationDuration:1500})]})})})}const $=[{name:"الأحد",value:70,label:"إنجاز اليوم"},{name:"الإثنين",value:80,label:"إنجاز اليوم"},{name:"الثلاثاء",value:60,label:"إنجاز اليوم"},{name:"الأربعاء",value:90,label:"إنجاز اليوم"},{name:"الخميس",value:75,label:"إنجاز اليوم"},{name:"الجمعة",value:65,label:"إنجاز اليوم"},{name:"السبت",value:85,label:"إنجاز اليوم"}];function F({completedHabits:t,totalHabits:a,dailyProgress:i}){const r=o=>o<30?"يمكنك تحقيق المزيد اليوم!":o<70?"أنت في الطريق الصحيح!":"أحسنت! أنت تقترب من إكمال أهدافك اليوم";return e.jsx("section",{className:"mb-8",children:e.jsxs("div",{className:"section-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold font-cairo",children:"تقدمك اليوم"}),e.jsxs("div",{className:"text-sm text-gray-500 font-cairo",children:[t,"/",a," مكتمل"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-8",children:[e.jsx(S,{percentage:i}),e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("h3",{className:"text-lg font-bold font-cairo mb-2",children:"تقدمك الأسبوعي"}),e.jsx(R,{data:$})]})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("p",{className:"font-cairo text-growup-text",children:r(i)})})]})})}function I({habits:t,onHabitComplete:a,onHabitDelete:i,onHabitEdit:r,onAddHabit:o}){const[d,c]=g.useState(!1),[u,m]=g.useState(!1),[s,n]=g.useState(null),l=x=>{const f=t.find(y=>y.id===x);f&&(n(f),m(!0))};return e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold font-cairo",children:"العادات اليومية"}),e.jsxs(p,{onClick:()=>c(!0),className:"bg-growup hover:bg-growup-dark","aria-label":"إضافة عادة جديدة",children:[e.jsx(h,{className:"mr-0 ml-2 h-4 w-4"}),"إضافة عادة"]})]}),e.jsx("div",{className:"space-y-3",children:t.map(x=>e.jsx(q,{id:x.id,title:x.title,category:x.category,completed:x.completed,icon:e.jsx("span",{children:x.icon}),onComplete:a,onDelete:i,onEdit:r?l:void 0},x.id))}),t.length===0&&e.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("p",{className:"text-gray-500 mb-4 font-cairo",children:"لم تقم بإضافة أي عادات بعد"}),e.jsxs(p,{onClick:()=>c(!0),className:"bg-growup hover:bg-growup-dark",children:[e.jsx(h,{className:"mr-0 ml-2 h-4 w-4"}),"إضافة عادة جديدة"]})]}),e.jsx(B,{open:d,onOpenChange:c,onAddHabit:o}),s&&r&&e.jsx(E,{open:u,onOpenChange:m,onEditHabit:r,habit:s})]})}const b=["صغير الجهد اليوم، كبير الأثر بكرة.","كل يوم هو فرصة جديدة للتطور والنمو.","لا تحكم على نجاحك بما حققته، بل بما تغلبت عليه.","الاستثمار في الذات هو أفضل استثمار يمكنك القيام به.","الصبر والمثابرة مفاتيح النجاح."],L=()=>{const t=Math.floor(Math.random()*b.length);return b[t]};function T(){const t=j(),a=L();return e.jsx("section",{className:"section-card card-gradient",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-cairo font-bold mb-2",children:"اقتباس اليوم"}),e.jsxs("p",{className:"text-xl font-cairo text-gray-700",children:['"',a,'"']})]}),e.jsxs("div",{className:"bg-growup/10 border border-growup/20 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(w,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"}),e.jsx("h4",{className:"font-bold font-cairo",children:"ترقية لعضوية Premium"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 text-right",children:"احصل على جميع المميزات المتقدمة وحقق أهدافك بشكل أسرع"}),e.jsx(p,{className:"w-full bg-gradient-to-r from-growup to-growup-dark hover:opacity-90 transition-opacity",size:"sm",onClick:()=>t("/subscription"),children:"اشترك الآن - $4/شهريًا فقط"})]})]})})}function Z(){const t=j(),{habits:a,toggleHabitComplete:i,addHabit:r,deleteHabit:o,calculateDailyProgress:d}=O(),c=a.filter(m=>m.completed).length,u=d();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(H,{showMenu:!0,title:"لوحة التحكم",onMenuClick:()=>t("/menu")}),e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx(F,{completedHabits:c,totalHabits:a.length,dailyProgress:u}),e.jsx(I,{habits:a,onHabitComplete:i,onHabitDelete:o,onAddHabit:r}),e.jsx(T,{})]})]})}export{Z as default};
