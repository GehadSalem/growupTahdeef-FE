import{b as _,o as Je,s as Ze,i as te,u as O,r as c,k as Qe,t as es,j as e,C as y,d as E,e as T,g as w,F as ss,l as H,m as U,n as K,p as Y,I as P,q as X,B as k,c as L,v as pe,L as D,T as ts,P as as,w as ge,x as je,y as z,z as q,D as fe,E as ve,G as ie,H as ae,J as rs,K as ns,M as be,N as is,O as ls,R as cs,Q as os,U as ds,V as xe,W as ms,X as hs,A as xs}from"./index-Dydho1Ek.js";import{P as Ne,a as B,L as Z}from"./progress-eW0Z95lu.js";import{f as R,T as ye}from"./format-BGPqv-OZ.js";import{a as G,i as $,b as us,c as ps}from"./isBefore-Fp3pv9H0.js";import{D as le,e as we,a as ce,b as oe,c as de}from"./dialog-3lPOuXTU.js";import{P as ke}from"./plus-JwWzYVlL.js";import{T as Se,a as Ce,b as Q,c as I,d as De,e as A}from"./table-Dm_7i18F.js";import{R as ee,C as re,T as se,L as Fe,X as gs,Y as js,B as Me}from"./generateCategoricalChart-Deu-DJt-.js";import{P as Pe,a as Re}from"./PieChart-CyKP3Aci.js";import{B as Ee}from"./BarChart-sPf9bSPc.js";import{u as fs}from"./index-fMh3bV7v.js";import{C as vs}from"./circle-vTFHL_ly.js";import{S as bs}from"./shield-alert-BQ1KJVY_.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=_("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=_("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=_("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=_("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=_("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=_("WalletCards",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2",key:"4125el"}],["path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21",key:"1dpki6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=_("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),Cs=Je({itemType:Ze().min(1,{message:"يجب إدخال نوع العنصر"}),itemPrice:te.number().positive({message:"يجب أن يكون السعر أكبر من صفر"}),months:te.number().int().min(1,{message:"يجب أن يكون عدد الشهور أكبر من صفر"}),monthlyIncome:te.number().positive({message:"يجب إدخال الدخل الشهري"})});function Ds(){const{toast:r}=O(),[n,t]=c.useState([]),[a,s]=c.useState(null),[d,i]=c.useState(null),[o,m]=c.useState(null),x=Qe({resolver:es(Cs),defaultValues:{itemType:"",itemPrice:0,months:12,monthlyIncome:0}}),f=l=>{const{itemPrice:u,months:h,monthlyIncome:F}=l,M=u/h,g=M/F*100,j=g<40;return s(M),i(g),m(j),{monthlyAmount:M,percentage:g,suitable:j}},v=l=>{const{monthlyAmount:u,percentage:h,suitable:F}=f(l);r({title:"تم حساب القسط الشهري",description:`القسط الشهري: ${u.toFixed(2)} ريال`}),F||r({title:"تنبيه!",description:"ننصحك ألا يتجاوز القسط 40٪ من دخلك",variant:"destructive"})},N=()=>{const l=x.getValues(),{monthlyAmount:u,percentage:h}=f(l),F=new Date,M=G(F,1),g={id:`installment-${Date.now()}`,itemType:l.itemType,itemPrice:l.itemPrice,monthlyAmount:u,totalMonths:l.months,remainingMonths:l.months,startDate:R(F,"yyyy-MM-dd"),nextPaymentDate:R(M,"yyyy-MM-dd"),percentageOfIncome:h,isPaid:!1};t([...n,g]),r({title:"تم إضافة القسط",description:"تمت إضافة القسط الجديد إلى قائمة الالتزامات"}),x.reset(),s(null),i(null),m(null)},b=l=>{t(u=>u.map(h=>{if(h.id===l){const F=!h.isPaid,M={...h,isPaid:F};if(F){const g=h.remainingMonths-1;if(g>0){const j=G(new Date(h.nextPaymentDate),1);return{...M,remainingMonths:g,nextPaymentDate:R(j,"yyyy-MM-dd")}}else r({title:"تهانينا!",description:`تم الانتهاء من سداد قسط ${h.itemType} بنجاح!`})}return M}return h}))};return c.useEffect(()=>{const l=()=>{const j=R(new Date,"yyyy-MM-dd");n.forEach(C=>{!C.isPaid&&C.nextPaymentDate===j&&r({title:"تذكير بالسداد!",description:`حان موعد سداد قسط ${C.itemType} بمبلغ ${C.monthlyAmount.toFixed(2)} ريال`})})};l();const u=new Date,h=new Date;h.setDate(u.getDate()+1),h.setHours(9,0,0,0);const F=h.getTime()-u.getTime(),M=setTimeout(()=>{l();const g=setInterval(l,24*60*60*1e3);return()=>clearInterval(g)},F);return()=>clearTimeout(M)},[n,r]),e.jsxs(y,{children:[e.jsx(E,{children:e.jsxs(T,{className:"text-right font-cairo flex items-center justify-end gap-2",children:[e.jsx(ys,{className:"h-5 w-5"}),"حاسبة الأقساط الشهرية"]})}),e.jsxs(w,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(ss,{...x,children:e.jsxs("form",{onSubmit:x.handleSubmit(v),className:"space-y-4",children:[e.jsx(H,{control:x.control,name:"itemType",render:({field:l})=>e.jsxs(U,{children:[e.jsx(K,{className:"text-right block",children:"نوع العنصر"}),e.jsx(Y,{children:e.jsx(P,{placeholder:"مثل: سيارة، هاتف، أثاث...",className:"text-right",...l})}),e.jsx(X,{className:"text-right"})]})}),e.jsx(H,{control:x.control,name:"itemPrice",render:({field:l})=>e.jsxs(U,{children:[e.jsx(K,{className:"text-right block",children:"سعر العنصر (ر.س)"}),e.jsx(Y,{children:e.jsx(P,{type:"number",placeholder:"مثل: 50000",className:"text-right",...l})}),e.jsx(X,{className:"text-right"})]})}),e.jsx(H,{control:x.control,name:"months",render:({field:l})=>e.jsxs(U,{children:[e.jsx(K,{className:"text-right block",children:"عدد شهور التقسيط"}),e.jsx(Y,{children:e.jsx(P,{type:"number",placeholder:"مثل: 12",className:"text-right",...l})}),e.jsx(X,{className:"text-right"})]})}),e.jsx(H,{control:x.control,name:"monthlyIncome",render:({field:l})=>e.jsxs(U,{children:[e.jsx(K,{className:"text-right block",children:"الدخل الشهري (ر.س)"}),e.jsx(Y,{children:e.jsx(P,{type:"number",placeholder:"مثل: 10000",className:"text-right",...l})}),e.jsx(X,{className:"text-right"})]})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(k,{type:"submit",className:"bg-growup hover:bg-growup-dark",children:"حساب القسط"}),a!==null&&e.jsx(k,{type:"button",onClick:N,className:"bg-blue-500 hover:bg-blue-600",children:"إضافة إلى الالتزامات"})]})]})})}),a!==null&&d!==null&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 text-right",children:"نتائج الحساب:"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("span",{className:"font-cairo text-lg font-bold",children:[a.toFixed(2)," ر.س"]}),e.jsx("span",{className:"text-gray-700",children:"القسط الشهري:"})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("span",{className:"font-cairo text-lg font-bold",children:[d.toFixed(1),"٪"]}),e.jsx("span",{className:"text-gray-700",children:"نسبة القسط من الدخل:"})]}),e.jsx(Ne,{value:d,className:L("h-2",d>40?"bg-red-500":"bg-green-500")})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:`p-3 rounded-md ${o?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-1 font-bold",children:[e.jsx("span",{children:o?"مناسب":"غير مناسب"}),!o&&e.jsx(ne,{className:"h-5 w-5"})]}),e.jsx("p",{className:"text-right text-sm",children:o?"القسط في حدود الميزانية المناسبة ولا يشكل عبئًا على دخلك الشهري.":"ننصحك ألا يتجاوز القسط 40٪ من دخلك الشهري لتجنب الضغط المالي."})]})})]})]})]}),n.length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 text-right",children:"الأقساط المضافة:"}),e.jsx("div",{className:"space-y-3",children:n.map(l=>e.jsx(y,{className:"bg-gray-50",children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(k,{size:"sm",variant:l.isPaid?"default":"outline",className:l.isPaid?"bg-green-500 hover:bg-green-600":"",onClick:()=>b(l.id),children:l.isPaid?"تم السداد":"غير مدفوع"}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(pe,{className:"h-3 w-3 mr-1"}),e.jsx("span",{dir:"rtl",children:R(new Date(l.nextPaymentDate),"d MMMM yyyy",{locale:B})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold",children:l.itemType}),e.jsxs("div",{className:"flex gap-2 text-sm text-gray-600 justify-end",children:[e.jsxs("span",{children:[l.monthlyAmount.toFixed(2)," ر.س/شهريًا"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[l.remainingMonths," من ",l.totalMonths," شهر"]})]})]})]})})},l.id))})]}),e.jsx("div",{className:"mt-8",children:e.jsx(y,{className:"bg-gradient-to-br from-growup/20 to-growup/5 border-none",children:e.jsxs(w,{className:"pt-6",children:[e.jsx("h3",{className:"text-lg font-bold font-cairo mb-3 text-right",children:"نصائح للتقسيط الذكي"}),e.jsxs("div",{className:"space-y-3 text-right",children:[e.jsx("div",{className:"bg-white/60 p-3 rounded-lg",children:e.jsx("p",{className:"font-cairo",children:"تأكد من أن إجمالي أقساطك الشهرية لا يتجاوز 40% من دخلك."})}),e.jsx("div",{className:"bg-white/60 p-3 rounded-lg",children:e.jsx("p",{className:"font-cairo",children:"قم بمقارنة خيارات التقسيط المختلفة للحصول على أفضل سعر فائدة."})}),e.jsx("div",{className:"bg-white/60 p-3 rounded-lg",children:e.jsx("p",{className:"font-cairo",children:"ضع في اعتبارك المصاريف الإضافية مثل التأمين والصيانة عند شراء سيارة بالتقسيط."})})]})]})})})]})]})}function Fs({onAddObligation:r}){const{toast:n}=O(),[t,a]=c.useState(!1),[s,d]=c.useState({name:"",type:"قسط",amount:0,dueDate:new Date().toISOString().split("T")[0],recurrence:"شهري",notes:""}),i=()=>{if(s.name.trim()===""){n({title:"خطأ",description:"يجب إدخال اسم الالتزام",variant:"destructive"});return}if(s.amount<=0){n({title:"خطأ",description:"يجب إدخال مبلغ صحيح",variant:"destructive"});return}const o=`obligation-${Date.now()}-${Math.floor(Math.random()*1e3)}`;r({...s,id:o,isPaid:!1,enableNotifications:!0}),d({name:"",type:"قسط",amount:0,dueDate:new Date().toISOString().split("T")[0],recurrence:"شهري",notes:""}),a(!1),n({title:"تم الإضافة",description:"تم إضافة الالتزام الجديد بنجاح"})};return e.jsxs(le,{open:t,onOpenChange:a,children:[e.jsx(we,{asChild:!0,children:e.jsxs(k,{className:"bg-growup hover:bg-growup-dark",children:[e.jsx(ke,{className:"mr-0 ml-2 h-4 w-4"}),"إضافة التزام جديد"]})}),e.jsxs(ce,{className:"max-w-md",children:[e.jsx(oe,{children:e.jsx(de,{className:"text-right",children:"إضافة التزام جديد"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-right block",children:"الاسم"}),e.jsx(P,{className:"text-right",placeholder:"مثال: قسط سيارة",value:s.name,onChange:o=>d({...s,name:o.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-right block",children:"نوع الالتزام"}),e.jsxs("select",{className:"w-full p-2 border rounded text-right",value:s.type,onChange:o=>d({...s,type:o.target.value}),children:[e.jsx("option",{value:"قسط",children:"قسط"}),e.jsx("option",{value:"مناسبة",children:"مناسبة"}),e.jsx("option",{value:"شراء",children:"شراء"}),e.jsx("option",{value:"آخر",children:"آخر"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-right block",children:"المبلغ (ريال)"}),e.jsx(P,{type:"number",className:"text-right",placeholder:"مثال: 3000",value:s.amount||"",onChange:o=>d({...s,amount:Number(o.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-right block",children:"تاريخ الاستحقاق"}),e.jsx(P,{type:"date",className:"text-right",value:s.dueDate,onChange:o=>d({...s,dueDate:o.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-right block",children:"تكرار الالتزام"}),e.jsxs("select",{className:"w-full p-2 border rounded text-right",value:s.recurrence,onChange:o=>d({...s,recurrence:o.target.value}),children:[e.jsx("option",{value:"شهري",children:"شهري"}),e.jsx("option",{value:"ربع سنوي",children:"ربع سنوي"}),e.jsx("option",{value:"سنوي",children:"سنوي"}),e.jsx("option",{value:"مرة واحدة",children:"مرة واحدة"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-right block",children:"ملاحظة إضافية (اختياري)"}),e.jsx(ts,{className:"text-right",placeholder:"أضف أي ملاحظات إضافية هنا",value:s.notes,onChange:o=>d({...s,notes:o.target.value})})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(k,{type:"button",variant:"outline",onClick:()=>a(!1),children:"إلغاء"}),e.jsx(k,{className:"bg-growup hover:bg-growup-dark",onClick:i,children:"إضافة"})]})]})]})]})}function Ms({totalObligations:r,remainingIncome:n,savingsRemaining:t,obligationPercentage:a}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(y,{className:"bg-blue-50 border-blue-200",children:e.jsxs(w,{className:"p-4 text-right",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"إجمالي الالتزامات"}),e.jsxs("div",{className:"text-xl font-bold",children:[r," ريال"]})]})}),e.jsx(y,{className:"bg-green-50 border-green-200",children:e.jsxs(w,{className:"p-4 text-right",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"الراتب بعد الالتزامات"}),e.jsxs("div",{className:"text-xl font-bold",children:[n," ريال"]})]})}),e.jsx(y,{className:"bg-purple-50 border-purple-200",children:e.jsxs(w,{className:"p-4 text-right",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"المتبقي للادخار"}),e.jsxs("div",{className:"text-xl font-bold",children:[t," ريال"]})]})}),e.jsx(y,{className:`${a>50?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"}`,children:e.jsxs(w,{className:"p-4 text-right",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"نسبة الالتزامات من الدخل"}),e.jsxs("div",{className:"text-xl font-bold",children:[a.toFixed(1),"%"]})]})})]}),a>50&&e.jsx("div",{className:"bg-red-100 border-r-4 border-red-500 p-4 mb-6 flex items-center rounded-md",children:e.jsxs("div",{className:"flex-1 text-right",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("span",{className:"font-bold text-red-700",children:"تحذير"}),e.jsx(ne,{className:"h-5 w-5 text-red-700"})]}),e.jsx("p",{className:"text-red-700",children:"الالتزامات تستهلك أكثر من 50% من دخلك. يُنصح بمراجعة الإنفاق الشهري."})]})}),t<0&&e.jsx("div",{className:"bg-amber-100 border-r-4 border-amber-500 p-4 mb-6 flex items-center rounded-md",children:e.jsxs("div",{className:"flex-1 text-right",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("span",{className:"font-bold text-amber-700",children:"تنبيه"}),e.jsx(ne,{className:"h-5 w-5 text-amber-700"})]}),e.jsxs("p",{className:"text-amber-700",children:["أنت بحاجة إلى ",Math.abs(t)," ريال إضافية لتحقيق هدف الادخار لهذا الشهر."]})]})})]})}function Ps({obligations:r,income:n,togglePaymentStatus:t}){const a=i=>{const o=new Date(i);return R(o,"d MMMM yyyy",{locale:B})},s=i=>`${(i/n*100).toFixed(1)}%`,d=(i,o)=>{const m=new Date(i),x=new Date;let f=new Date(m);if($(f,x))switch(o){case"شهري":for(;$(f,x);)f=G(f,1);break;case"ربع سنوي":for(;$(f,x);)f=G(f,3);break;case"سنوي":for(;$(f,x);)f=G(f,12);break}return R(f,"yyyy-MM-dd")};return e.jsxs("div",{className:"mb-6 overflow-x-auto",children:[e.jsx("h3",{className:"text-lg font-bold mb-3 text-right font-cairo",children:"قائمة الالتزامات"}),r.length>0?e.jsxs(Se,{children:[e.jsx(Ce,{children:e.jsxs(Q,{children:[e.jsx(I,{className:"text-right",children:"نسبة التأثير"}),e.jsx(I,{className:"text-right",children:"حالة السداد"}),e.jsx(I,{className:"text-right",children:"تاريخ السداد القادم"}),e.jsx(I,{className:"text-right",children:"المبلغ"}),e.jsx(I,{className:"text-right",children:"النوع"}),e.jsx(I,{className:"text-right",children:"اسم الالتزام"})]})}),e.jsx(De,{children:r.map(i=>e.jsxs(Q,{children:[e.jsx(A,{className:"text-right",children:s(i.amount)}),e.jsx(A,{className:"text-right",children:e.jsx(k,{variant:i.isPaid?"default":"outline",size:"sm",onClick:()=>t(i.id),className:i.isPaid?"bg-green-500 hover:bg-green-600":"",children:i.isPaid?"تم الدفع":"غير مدفوع"})}),e.jsx(A,{className:"text-right",dir:"rtl",children:a(d(i.dueDate,i.recurrence))}),e.jsxs(A,{className:"text-right",children:[i.amount," ريال"]}),e.jsx(A,{className:"text-right",children:i.type}),e.jsx(A,{className:"text-right",children:i.name})]},i.id))})]}):e.jsx("div",{className:"text-center p-4 bg-gray-50 rounded-md",children:"لا يوجد التزامات مضافة بعد. قم بإضافة التزام جديد باستخدام الزر أعلاه."})]})}function Rs({obligations:r}){const n=()=>{const a={};return r.forEach(s=>{a[s.type]?a[s.type]+=s.amount:a[s.type]=s.amount}),Object.keys(a).map(s=>({name:s,value:a[s]}))},t=["#0088FE","#00C49F","#FFBB28","#FF8042"];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(y,{children:[e.jsx(E,{children:e.jsx(T,{className:"text-right font-cairo",children:"توزيع الالتزامات حسب النوع"})}),e.jsx(w,{className:"p-4",children:e.jsx(ee,{width:"100%",height:250,children:e.jsxs(Pe,{children:[e.jsx(Re,{data:n(),cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:a,value:s})=>`${a}: ${s} ريال`,children:n().map((a,s)=>e.jsx(re,{fill:t[s%t.length]},`cell-${s}`))}),e.jsx(se,{formatter:a=>`${a} ريال`}),e.jsx(Fe,{layout:"vertical",verticalAlign:"middle",align:"right"})]})})})]}),e.jsxs(y,{children:[e.jsx(E,{children:e.jsx(T,{className:"text-right font-cairo",children:"أكثر الالتزامات استنزافاً للراتب"})}),e.jsx(w,{className:"p-4",children:e.jsx(ee,{width:"100%",height:250,children:e.jsxs(Ee,{data:r.sort((a,s)=>s.amount-a.amount).slice(0,5).map(a=>({name:a.name,amount:a.amount})),layout:"vertical",children:[e.jsx(gs,{type:"number"}),e.jsx(js,{dataKey:"name",type:"category",tick:{fontSize:10},width:100}),e.jsx(se,{formatter:a=>`${a} ريال`}),e.jsx(Me,{dataKey:"amount",fill:"#8884d8",name:"المبلغ"})]})})})]})]})}function Es(){return e.jsx("div",{className:"mt-6",children:e.jsx(y,{className:"bg-gradient-to-br from-growup/20 to-growup/5 border-none",children:e.jsxs(w,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3",children:[e.jsx("h3",{className:"text-lg font-bold font-cairo",children:"نصائح لإدارة الالتزامات"}),e.jsx(Z,{className:"h-5 w-5 text-amber-500"})]}),e.jsxs("div",{className:"space-y-3 text-right",children:[e.jsx("div",{className:"bg-white/60 p-3 rounded-lg",children:e.jsx("p",{className:"font-cairo",children:"خصص ما بين 50-30-20 من دخلك: 50% للضروريات، 30% للرغبات، 20% للادخار."})}),e.jsx("div",{className:"bg-white/60 p-3 rounded-lg",children:e.jsx("p",{className:"font-cairo",children:"حدد الالتزامات غير الضرورية وفكر في تقليلها أو إلغائها."})}),e.jsx("div",{className:"bg-white/60 p-3 rounded-lg",children:e.jsx("p",{className:"font-cairo",children:"جدول دفعاتك مبكراً لتجنب الغرامات والفوائد الإضافية."})})]})]})})})}const Ts=(r,n)=>{const t=new Date(r),a=new Date;let s=new Date(t);if($(s,a))switch(n){case"شهري":for(;$(s,a);)s=G(s,1);break;case"ربع سنوي":for(;$(s,a);)s=G(s,3);break;case"سنوي":for(;$(s,a);)s=G(s,12);break}return R(s,"yyyy-MM-dd")},Is=r=>{const n=new Date(r);return R(n,"d MMMM yyyy",{locale:B})},As=(r,n)=>{const t=new Date,a=us(t,3);return r.map(s=>{if(!s.isPaid&&s.enableNotifications){const d=new Date(Ts(s.dueDate,s.recurrence));let i=s.notificationSent;return R(t,"yyyy-MM-dd")===R(d,"yyyy-MM-dd")&&!s.notificationSent?(n("موعد سداد اليوم!",`حان موعد سداد "${s.name}" بمبلغ ${s.amount} ريال`),i=!0):ps(d,t)&&$(d,a)&&!s.notificationSent&&(n("تذكير بموعد سداد قريب",`موعد سداد "${s.name}" سيكون في ${Is(d.toString())}`),i=!0),{...s,notificationSent:i}}return s})};function $s(){const{toast:r}=O(),[n,t]=c.useState([]),[a,s]=c.useState(12e3),[d,i]=c.useState(3e3),[o,m]=c.useState("obligations"),x=n.reduce((u,h)=>u+h.amount,0),f=a-x,v=f-d,N=x/a*100,b=u=>{t([...n,u])},l=u=>{t(n.map(h=>h.id===u?{...h,isPaid:!h.isPaid}:h))};return c.useEffect(()=>{const h=As(n,(g,j)=>{r({title:g,description:j})});JSON.stringify(h)!==JSON.stringify(n)&&t(h);const M=setInterval(()=>{t(g=>g.map(j=>({...j,notificationSent:!1})))},864e5);return()=>clearInterval(M)},[n,r]),e.jsx("div",{className:"space-y-6",children:e.jsxs(y,{children:[e.jsx(E,{children:e.jsxs(T,{className:"text-right font-cairo flex items-center justify-end gap-2",children:[e.jsx(as,{className:"h-5 w-5"}),"الالتزامات الشهرية"]})}),e.jsx(w,{children:e.jsxs(ge,{value:o,onValueChange:m,className:"mb-6",children:[e.jsxs(je,{className:"grid grid-cols-2 mb-4",children:[e.jsx(z,{value:"obligations",className:"font-cairo",children:"الالتزامات"}),e.jsx(z,{value:"calculator",className:"font-cairo",children:"حاسبة الأقساط"})]}),e.jsxs(q,{value:"obligations",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx(Fs,{onAddObligation:b}),e.jsx("div",{className:"text-right text-lg font-bold font-cairo",children:"إدارة الالتزامات المالية"})]}),e.jsx(Ms,{totalObligations:x,remainingIncome:f,savingsRemaining:v,obligationPercentage:N}),e.jsx(Ps,{obligations:n,income:a,togglePaymentStatus:l}),n.length>0&&e.jsx(Rs,{obligations:n}),e.jsx(Es,{})]}),e.jsx(q,{value:"calculator",children:e.jsx(Ds,{})})]})})]})})}var me="Radio",[Os,Ie]=fe(me),[Gs,_s]=Os(me),Ae=c.forwardRef((r,n)=>{const{__scopeRadio:t,name:a,checked:s=!1,required:d,disabled:i,value:o="on",onCheck:m,form:x,...f}=r,[v,N]=c.useState(null),b=ve(n,h=>N(h)),l=c.useRef(!1),u=v?x||!!v.closest("form"):!0;return e.jsxs(Gs,{scope:t,checked:s,disabled:i,children:[e.jsx(ie.button,{type:"button",role:"radio","aria-checked":s,"data-state":Ge(s),"data-disabled":i?"":void 0,disabled:i,value:o,...f,ref:b,onClick:ae(r.onClick,h=>{s||m==null||m(),u&&(l.current=h.isPropagationStopped(),l.current||h.stopPropagation())})}),u&&e.jsx(Ws,{control:v,bubbles:!l.current,name:a,value:o,checked:s,required:d,disabled:i,form:x,style:{transform:"translateX(-100%)"}})]})});Ae.displayName=me;var $e="RadioIndicator",Oe=c.forwardRef((r,n)=>{const{__scopeRadio:t,forceMount:a,...s}=r,d=_s($e,t);return e.jsx(rs,{present:a||d.checked,children:e.jsx(ie.span,{"data-state":Ge(d.checked),"data-disabled":d.disabled?"":void 0,...s,ref:n})})});Oe.displayName=$e;var Ws=r=>{const{control:n,checked:t,bubbles:a=!0,...s}=r,d=c.useRef(null),i=fs(t),o=ns(n);return c.useEffect(()=>{const m=d.current,x=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(x,"checked").set;if(i!==t&&v){const N=new Event("click",{bubbles:a});v.call(m,t),m.dispatchEvent(N)}},[i,t,a]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:d,style:{...r.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ge(r){return r?"checked":"unchecked"}var Bs=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],he="RadioGroup",[Ls,jt]=fe(he,[be,Ie]),_e=be(),We=Ie(),[Vs,zs]=Ls(he),Be=c.forwardRef((r,n)=>{const{__scopeRadioGroup:t,name:a,defaultValue:s,value:d,required:i=!1,disabled:o=!1,orientation:m,dir:x,loop:f=!0,onValueChange:v,...N}=r,b=_e(t),l=is(x),[u,h]=ls({prop:d,defaultProp:s,onChange:v});return e.jsx(Vs,{scope:t,name:a,required:i,disabled:o,value:u,onValueChange:h,children:e.jsx(cs,{asChild:!0,...b,orientation:m,dir:l,loop:f,children:e.jsx(ie.div,{role:"radiogroup","aria-required":i,"aria-orientation":m,"data-disabled":o?"":void 0,dir:l,...N,ref:n})})})});Be.displayName=he;var Le="RadioGroupItem",Ve=c.forwardRef((r,n)=>{const{__scopeRadioGroup:t,disabled:a,...s}=r,d=zs(Le,t),i=d.disabled||a,o=_e(t),m=We(t),x=c.useRef(null),f=ve(n,x),v=d.value===s.value,N=c.useRef(!1);return c.useEffect(()=>{const b=u=>{Bs.includes(u.key)&&(N.current=!0)},l=()=>N.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",l),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",l)}},[]),e.jsx(os,{asChild:!0,...o,focusable:!i,active:v,children:e.jsx(Ae,{disabled:i,required:d.required,checked:v,...m,...s,name:d.name,ref:f,onCheck:()=>d.onValueChange(s.value),onKeyDown:ae(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:ae(s.onFocus,()=>{var b;N.current&&((b=x.current)==null||b.click())})})})});Ve.displayName=Le;var qs="RadioGroupIndicator",ze=c.forwardRef((r,n)=>{const{__scopeRadioGroup:t,...a}=r,s=We(t);return e.jsx(Oe,{...s,...a,ref:n})});ze.displayName=qs;var qe=Be,He=Ve,Hs=ze;const Ue=c.forwardRef(({className:r,...n},t)=>e.jsx(qe,{className:L("grid gap-2",r),...n,ref:t}));Ue.displayName=qe.displayName;const J=c.forwardRef(({className:r,...n},t)=>e.jsx(He,{ref:t,className:L("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...n,children:e.jsx(Hs,{className:"flex items-center justify-center",children:e.jsx(vs,{className:"h-2.5 w-2.5 fill-current text-current"})})}));J.displayName=He.displayName;const Us=ds("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ke=c.forwardRef(({className:r,variant:n,...t},a)=>e.jsx("div",{ref:a,role:"alert",className:L(Us({variant:n}),r),...t}));Ke.displayName="Alert";const Ye=c.forwardRef(({className:r,...n},t)=>e.jsx("h5",{ref:t,className:L("mb-1 font-medium leading-none tracking-tight",r),...n}));Ye.displayName="AlertTitle";const Xe=c.forwardRef(({className:r,...n},t)=>e.jsx("div",{ref:t,className:L("text-sm [&_p]:leading-relaxed",r),...n}));Xe.displayName="AlertDescription";function Ks({income:r,setIncome:n}){const{toast:t}=O(),[a,s]=c.useState(0),[d,i]=c.useState([]),[o,m]=c.useState(10),[x,f]=c.useState(!1),[v,N]=c.useState(0),[b,l]=c.useState(""),u=r*6,h=u>0?a/u*100:0,F=j=>{const C=new Date(j);return R(C,"d MMMM yyyy",{locale:B})};c.useEffect(()=>{if(r>0){const j=r*o/100,C={id:`deposit-${Date.now()}`,date:new Date().toISOString(),amount:j,description:"المساهمة الشهرية التلقائية",type:"deposit"};i(V=>[C,...V]),s(V=>V+j),t({title:"تم إضافة المساهمة الشهرية",description:`تمت إضافة ${j.toFixed(0)} ريال لصندوق الطوارئ (${o}% من دخلك)`})}},[r,o,t]);const M=()=>{if(v<=0){t({title:"خطأ",description:"يجب إدخال قيمة صحيحة",variant:"destructive"});return}if(v>a){t({title:"خطأ",description:"المبلغ المطلوب أكبر من الرصيد المتاح",variant:"destructive"});return}if(b.trim()===""){t({title:"خطأ",description:"يرجى إدخال سبب السحب",variant:"destructive"});return}const j={id:`withdrawal-${Date.now()}`,date:new Date().toISOString(),amount:v,description:b,type:"withdrawal"};i(C=>[j,...C]),s(C=>C-v),N(0),l(""),f(!1),t({title:"تم السحب",description:`تم سحب ${v.toFixed(0)} ريال من صندوق الطوارئ`})},g=j=>{const C=parseInt(j);m(C),t({title:"تم تغيير نسبة المساهمة",description:`تم تعديل نسبة المساهمة الشهرية إلى ${C}% من الدخل`})};return e.jsx("div",{className:"space-y-6",children:e.jsxs(y,{className:"bg-amber-50 border-amber-200",children:[e.jsx(E,{className:"pb-2",children:e.jsxs(T,{className:"text-right font-cairo flex items-center justify-end gap-2",children:[e.jsx(bs,{className:"h-5 w-5"}),"صندوق الطوارئ"]})}),e.jsxs(w,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-500 font-cairo",children:[h.toFixed(1),"% من الهدف"]}),e.jsxs("div",{className:"font-cairo font-bold",children:[a.toFixed(0)," / ",u.toFixed(0)," ريال"]})]}),e.jsx(Ne,{value:h>100?100:h,className:"bg-amber-200 h-3",children:e.jsx("div",{className:"h-full bg-amber-500 transition-all"})}),e.jsx("div",{className:"text-sm text-gray-600 text-right font-cairo",children:"الهدف الموصى به: ما يعادل 6 أشهر من الدخل الشهري"}),a>0&&e.jsxs(Ke,{className:"mt-2 bg-green-50 border-green-200",children:[e.jsx(xe,{className:"h-4 w-4 text-green-600"}),e.jsx(Ye,{className:"text-right text-green-700",children:"ممتاز!"}),e.jsxs(Xe,{className:"text-right text-green-700",children:["💡 أنت تدخر للطوارئ بشكل منتظم بنسبة ",o,"٪ من دخلك. الاستمرارية هي المفتاح!"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(le,{open:x,onOpenChange:f,children:[e.jsx(we,{asChild:!0,children:e.jsxs(k,{variant:"outline",className:"gap-1",children:[e.jsx(Te,{className:"h-4 w-4 ml-1"}),"سحب من الصندوق"]})}),e.jsxs(ce,{className:"max-w-md",children:[e.jsx(oe,{children:e.jsx(de,{className:"text-right",children:"سحب من صندوق الطوارئ"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-right block",children:"المبلغ (ريال)"}),e.jsx(P,{type:"number",className:"text-right",placeholder:"مثال: 3000",value:v||"",onChange:j=>N(Number(j.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-right block",children:"سبب السحب"}),e.jsx(P,{className:"text-right",placeholder:"مثال: إصلاح سيارة",value:b,onChange:j=>l(j.target.value)})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(k,{type:"button",variant:"outline",onClick:()=>f(!1),children:"إلغاء"}),e.jsx(k,{className:"bg-growup hover:bg-growup-dark",onClick:M,children:"سحب المبلغ"})]})]})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col items-end mb-2",children:[e.jsxs("div",{className:"text-lg font-bold font-cairo",children:[a.toFixed(0)," ريال"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"الرصيد الحالي"})]})})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[e.jsx("div",{className:"text-right mb-3 font-cairo font-bold",children:"نسبة المساهمة الشهرية"}),e.jsxs(Ue,{defaultValue:"10",value:o.toString(),onValueChange:g,className:"flex flex-row-reverse gap-6 justify-end",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-row-reverse",children:[e.jsx(J,{value:"10",id:"r_10"}),e.jsx(D,{htmlFor:"r_10",children:"10%"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-row-reverse",children:[e.jsx(J,{value:"15",id:"r_15"}),e.jsx(D,{htmlFor:"r_15",children:"15%"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-row-reverse",children:[e.jsx(J,{value:"20",id:"r_20"}),e.jsx(D,{htmlFor:"r_20",children:"20%"})]})]}),e.jsxs("p",{className:"text-sm text-gray-600 text-right mt-2 font-cairo",children:["سيتم تخصيص ",o,"% من دخلك الشهري (",(r*o/100).toFixed(0)," ريال)"]})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-3 text-right font-cairo",children:"سجل المعاملات"}),d.length>0?e.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.jsxs(Se,{children:[e.jsx(Ce,{children:e.jsxs(Q,{children:[e.jsx(I,{className:"text-right",children:"النوع"}),e.jsx(I,{className:"text-right",children:"المبلغ"}),e.jsx(I,{className:"text-right",children:"الوصف"}),e.jsx(I,{className:"text-right",children:"التاريخ"})]})}),e.jsx(De,{children:d.map(j=>e.jsxs(Q,{children:[e.jsx(A,{className:`text-right font-bold ${j.type==="deposit"?"text-green-600":"text-red-600"}`,children:j.type==="deposit"?"إيداع":"سحب"}),e.jsxs(A,{className:`text-right ${j.type==="deposit"?"text-green-600":"text-red-600"}`,children:[j.amount.toFixed(0)," ريال"]}),e.jsx(A,{className:"text-right",children:j.description}),e.jsx(A,{className:"text-right",dir:"rtl",children:F(j.date)})]},j.id))})]})}):e.jsx("div",{className:"text-center p-4 bg-gray-50 rounded-md",children:"لا توجد معاملات بعد"})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-amber-200",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-2",children:[e.jsx("div",{className:"text-lg font-bold text-right font-cairo",children:"نصائح صندوق الطوارئ"}),e.jsx(xe,{className:"h-5 w-5 text-amber-600"})]}),e.jsxs("ul",{className:"space-y-2 text-right font-cairo",children:[e.jsx("li",{children:"- ابدأ بتجميع راتب شهر، ثم راتب شهرين، وصولاً لراتب 6 أشهر"}),e.jsx("li",{children:"- استخدم صندوق الطوارئ للحالات الطارئة فقط مثل الإصلاحات المفاجئة أو المشاكل الصحية"}),e.jsx("li",{children:"- حاول تعويض المبلغ المسحوب في أقرب وقت ممكن"}),e.jsx("li",{children:"- احتفظ بجزء من صندوق الطوارئ في حساب يسهل الوصول إل��ه بسرعة"})]})]})})]})]})})}const ue=[{id:"food",name:"طعام",color:"#FF8042"},{id:"transport",name:"مواصلات",color:"#00C49F"},{id:"entertainment",name:"ترفيه",color:"#FFBB28"},{id:"bills",name:"فواتير",color:"#0088FE"},{id:"shopping",name:"تسوق",color:"#FF8042"},{id:"other",name:"أخرى",color:"#8884d8"}];function Ys(){const{toast:r}=O(),[n,t]=c.useState([]),[a,s]=c.useState({category:"food",value:0}),d=()=>{if(a.value<=0){r({title:"خطأ",description:"يرجى إدخال قيمة صحيحة",variant:"destructive"});return}const i=ue.find(m=>m.id===a.category);if(!i)return;const o=n.findIndex(m=>m.category===a.category);if(o>=0){const m=[...n];m[o].value+=a.value,t(m)}else t([...n,{category:a.category,name:i.name,value:a.value,color:i.color}]);s({category:"food",value:0}),r({title:"تم الإضافة",description:"تمت إضافة المصروف بنجاح"})};return e.jsx("section",{className:"mb-6",children:e.jsxs(y,{children:[e.jsx(E,{children:e.jsx(T,{className:"text-right font-cairo",children:"إضافة مصروف جديد"})}),e.jsxs(w,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-right block font-cairo",htmlFor:"expense-category",children:"الفئة"}),e.jsx("select",{id:"expense-category",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:a.category,onChange:i=>s({...a,category:i.target.value}),children:ue.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-right block font-cairo",htmlFor:"expense-value",children:"المبلغ (ر.س)"}),e.jsx(P,{id:"expense-value",type:"number",value:a.value||"",onChange:i=>s({...a,value:Number(i.target.value)}),min:0,className:"text-right"})]})]}),e.jsxs(k,{className:"mt-4 bg-growup hover:bg-growup-dark w-full",onClick:d,children:[e.jsx(ke,{className:"mr-0 ml-2 h-4 w-4"}),"إضافة مصروف"]})]})]})})}const Xs=[],Js=[{name:"الدخل",value:0,color:"#4CAF50"},{name:"المصروفات",value:0,color:"#F44336"}];function Zs({income:r}){const{toast:n}=O(),[t,a]=c.useState(Xs),[s,d]=c.useState(Js),i=t.reduce((m,x)=>m+x.value,0),o=r-i;return c.useEffect(()=>{d([{name:"الدخل",value:r,color:"#4CAF50"},{name:"المصروفات",value:i,color:"#F44336"}]),i>r*.8&&r>0&&n({title:"تنبيه!",description:"المصروفات تقترب من حد الدخل الشهري",variant:"destructive"})},[r,i,n]),e.jsx("section",{className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(y,{children:[e.jsx(E,{children:e.jsx(T,{className:"text-right font-cairo",children:"ملخص الشهر"})}),e.jsxs(w,{children:[e.jsx(ee,{width:"100%",height:200,children:e.jsxs(Ee,{data:s,children:[e.jsx(Me,{dataKey:"value",children:s.map((m,x)=>e.jsx(re,{fill:m.color},`cell-${x}`))}),e.jsx(se,{formatter:m=>[`${m} ريال`,""],labelFormatter:()=>"",contentStyle:{textAlign:"right",fontFamily:"Cairo Variable"}})]})}),e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-[#4CAF50] mr-2"}),e.jsxs("span",{className:"font-cairo",children:[r," ر.س"]})]}),e.jsx("span",{className:"font-cairo",children:"الدخل"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-[#F44336] mr-2"}),e.jsxs("span",{className:"font-cairo",children:[i," ر.س"]})]}),e.jsx("span",{className:"font-cairo",children:"المصروفات"})]}),e.jsxs("div",{className:"flex justify-between items-center font-bold",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-[#2196F3] mr-2"}),e.jsxs("span",{className:"font-cairo",children:[o," ر.س"]})]}),e.jsx("span",{className:"font-cairo",children:"التوفير"})]})]})]})]}),e.jsxs(y,{children:[e.jsx(E,{children:e.jsx(T,{className:"text-right font-cairo",children:"توزيع المصروفات"})}),e.jsx(w,{children:e.jsx(ee,{width:"100%",height:200,children:e.jsxs(Pe,{children:[e.jsx(Re,{data:t,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:m})=>m,children:t.map((m,x)=>e.jsx(re,{fill:m.color},`cell-${x}`))}),e.jsx(Fe,{layout:"vertical",align:"right",verticalAlign:"middle"}),e.jsx(se,{formatter:m=>[`${m} ر.س`,""],contentStyle:{textAlign:"right",fontFamily:"Cairo Variable"}})]})})})]})]})})}const Qs=2e4;function et({income:r}){const{toast:n}=O(),[t,a]=c.useState(Qs),[s,d]=c.useState([]),[i,o]=c.useState(0),[m,x]=c.useState(!1),f=s.reduce((l,u)=>l+u.value,0),v=r-f,N=t>0?v/t*100:0;c.useEffect(()=>{v>0&&v>=t*.5&&n({title:"أحسنت!",description:"أنت في الطريق الصحيح لتحقيق هدف التوفير"})},[v,t,n]);const b=()=>{if(i<=0){n({title:"خطأ",description:"الرجاء إدخال مبلغ صحيح",variant:"destructive"});return}n({title:"تم التحديث",description:`تم تسجيل مبلغ ${i} ريال كادخار لهذا الشهر`}),o(0),x(!1)};return e.jsx("section",{className:"mb-6",children:e.jsxs(y,{children:[e.jsx(E,{children:e.jsxs(T,{className:"text-right font-cairo flex justify-between items-center",children:[e.jsx(k,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>x(!m),children:m?"إلغاء":"إضافة مبلغ الادخار الشهري"}),e.jsx("span",{children:"هدف التوفير الشهري"})]})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-500 font-cairo",children:[Math.round(N),"% من الهدف"]}),e.jsxs("div",{className:"font-cairo font-bold",children:[v," / ",t," ر.س"]})]}),e.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-full bg-growup rounded-full",style:{width:`${Math.min(N,100)}%`}})}),m&&e.jsxs("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200 mt-3",children:[e.jsxs("div",{className:"flex items-center text-sm font-bold mb-2 gap-1",children:[e.jsx(ye,{className:"h-4 w-4 text-growup"}),e.jsx("span",{children:"أدخل المبلغ الذي وفرته هذا الشهر:"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(k,{onClick:b,className:"bg-growup hover:bg-growup-dark",size:"sm",children:"تسجيل المبلغ"}),e.jsx(P,{type:"number",className:"text-right",value:i,onChange:l=>o(Number(l.target.value)),placeholder:"المبلغ المدخر",min:0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-right block font-cairo",htmlFor:"savings-goal",children:"تعديل هدف التوفير"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(k,{className:"bg-growup hover:bg-growup-dark",onClick:()=>{a(t),n({title:"تم التحديث",description:"تم تحديث هدف التوفير الشهري"})},children:"تحديث"}),e.jsx(P,{id:"savings-goal",type:"number",className:"text-right",value:t,onChange:l=>a(Number(l.target.value)),min:0})]})]})]})})]})})}const st=[{id:"tip-1",content:"وفر 15-20% من دخلك الشهري وابدأ بالاستثمار المبكر."},{id:"tip-2",content:"سجل مصاريفك اليومية للتعرف على أنماط الإنفاق."},{id:"tip-3",content:"قارن بين الأسعار قبل الشراء وامتنع عن المشتريات غير الضرورية."}];function tt(){return e.jsx("section",{className:"mb-6",children:e.jsx(y,{className:"bg-gradient-to-br from-growup/20 to-growup/5 border-none",children:e.jsxs(w,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3",children:[e.jsx("h3",{className:"text-lg font-bold font-cairo",children:"نصائح مالية"}),e.jsx(Z,{className:"h-5 w-5 text-amber-500"})]}),e.jsx("div",{className:"space-y-3 text-right",children:st.map(r=>e.jsx("div",{className:"bg-white/60 p-3 rounded-lg",children:e.jsx("p",{className:"font-cairo",children:r.content})},r.id))})]})})})}function at({income:r,expenses:n,emergencyFund:t}){const{toast:a}=O(),[s,d]=c.useState(!1),[i,o]=c.useState(""),[m,x]=c.useState(""),[f,v]=c.useState(!1);R(new Date,"MMMM yyyy",{locale:B});const N=R(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMMM yyyy",{locale:B}),b=n.reduce((p,S)=>p+S.value,0),l=r>0?b/r*100:0,u=r-b;let h={name:"",value:0};n.length>0&&(h=n.reduce((p,S)=>p.value>S.value?p:S));const F=t!=null&&t.withdrawals?t.withdrawals.filter(p=>{const S=new Date(p.date),W=new Date;return S.getMonth()===W.getMonth()-1&&S.getFullYear()===W.getFullYear()}).reduce((p,S)=>p+S.amount,0):0,M=t!=null&&t.withdrawals?t.withdrawals.filter(p=>{const S=new Date(p.date),W=new Date;return S.getMonth()===W.getMonth()-1&&S.getFullYear()===W.getFullYear()}).map(p=>p.reason).join(", "):"",g={month:N,income:r,totalExpenses:b,expensePercentage:l,remainingAmount:u,categories:n.map(p=>({name:p.name,amount:p.value,percentage:r>0?p.value/r*100:0})),highestExpense:{category:h.name,amount:h.value},emergencyFundWithdrawal:F,emergencyFundWithdrawalReason:M,tips:[u>0?`لقد وفرت هذا الشهر ${u.toFixed(0)} ريال — استمر على هذا النهج!`:"حاول أن توفر جزءًا من دخلك الشهر القادم!",h.name?`الإنفاق على ${h.name} كان مرتفعًا — حاول تقليله في الشهر القادم.`:"تتبع مصاريفك باستمرار لمعرفة أنماط الإنفاق الخاصة بك.","استثمر المتبقي من راتبك في أهدافك الكبرى (تعليم، مشروع، صحة...)."]},j=()=>`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>تقريرك المالي الشهري - ${g.month}</title>
        <style>
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f9f9f9;
            margin: 0;
            padding: 0;
            direction: rtl;
          }
          .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
          }
          .header {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            padding: 20px;
            text-align: center;
          }
          .content {
            padding: 20px;
          }
          .section {
            margin-bottom: 25px;
            border-bottom: 1px solid #eaeaea;
            padding-bottom: 15px;
          }
          .section:last-child {
            border-bottom: none;
            margin-bottom: 0;
          }
          h1 {
            margin: 0;
            font-size: 24px;
          }
          h2 {
            color: #6366f1;
            margin-top: 0;
            font-size: 18px;
            border-right: 4px solid #6366f1;
            padding-right: 10px;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
          }
          table, th, td {
            border: 1px solid #eaeaea;
          }
          th, td {
            padding: 10px;
            text-align: right;
          }
          th {
            background-color: #f3f4f6;
          }
          .alert {
            background-color: #fef9c3;
            border-right: 4px solid #eab308;
            padding: 10px;
            margin: 15px 0;
          }
          .tips {
            background-color: #f0fdf4;
            padding: 15px;
            border-radius: 6px;
          }
          .tips p {
            margin: 5px 0;
          }
          .green {
            color: #22c55e;
          }
          .red {
            color: #ef4444;
          }
          .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
          }
          .cta-button {
            display: block;
            text-align: center;
            background-color: #6366f1;
            color: white;
            text-decoration: none;
            padding: 12px 20px;
            border-radius: 4px;
            font-weight: bold;
            margin: 20px auto;
            width: 60%;
          }
          .footer {
            text-align: center;
            padding: 15px;
            font-size: 12px;
            color: #6b7280;
            background-color: #f3f4f6;
          }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1>🧾 تقريرك المالي الشهري - ${g.month}</h1>
            <p>مرحباً بك، هذا تقريرك المفصل للشهر الماضي بناءً على بياناتك في تطبيق Grow Up.</p>
          </div>
          
          <div class="content">
            <div class="section">
              <h2>💰 ملخص الراتب والمصروفات</h2>
              <div class="summary-item">
                <span><strong>الراتب الكلي المستلم:</strong></span>
                <span>${g.income.toFixed(0)} ريال</span>
              </div>
              <div class="summary-item">
                <span><strong>إجمالي المصروفات:</strong></span>
                <span>${g.totalExpenses.toFixed(0)} ريال</span>
              </div>
              <div class="summary-item">
                <span><strong>النسبة المستهلكة من الراتب:</strong></span>
                <span>${g.expensePercentage.toFixed(1)}%</span>
              </div>
              <div class="summary-item">
                <span><strong>المتبقي من الراتب:</strong></span>
                <span class="${g.remainingAmount>0?"green":"red"}">${g.remainingAmount.toFixed(0)} ريال</span>
              </div>
            </div>
            
            <div class="section">
              <h2>📊 تصنيف المصروفات</h2>
              <table>
                <thead>
                  <tr>
                    <th>البند</th>
                    <th>القيمة (ريال)</th>
                    <th>النسبة من الراتب</th>
                  </tr>
                </thead>
                <tbody>
                  ${g.categories.map(p=>`
                    <tr>
                      <td>${p.name}</td>
                      <td>${p.amount.toFixed(0)}</td>
                      <td>${p.percentage.toFixed(1)}%</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
              
              ${g.highestExpense.category?`
                <p><strong>📌 أكثر بند تم الصرف عليه:</strong> ${g.highestExpense.category} - بقيمة ${g.highestExpense.amount.toFixed(0)} ريال</p>
              `:""}
            </div>
            
            ${g.emergencyFundWithdrawal>0?`
              <div class="section">
                <h2>🚨 استخدام صندوق الطوارئ</h2>
                <div class="summary-item">
                  <span><strong>تم سحب مبلغ:</strong></span>
                  <span>${g.emergencyFundWithdrawal.toFixed(0)} ريال</span>
                </div>
                ${g.emergencyFundWithdrawalReason?`
                  <div class="summary-item">
                    <span><strong>سبب السحب:</strong></span>
                    <span>${g.emergencyFundWithdrawalReason}</span>
                  </div>
                `:""}
                
                <div class="alert">
                  <p>⚠️ <strong>تنبيه:</strong> صندوق الطوارئ وُجد للظروف الطارئة فقط. حاول دائمًا تركه كخط دفاع أخير 🙏</p>
                </div>
              </div>
            `:""}
            
            <div class="section">
              <h2>✅ نصائح وتحليلات سلوكية</h2>
              <div class="tips">
                ${g.tips.map(p=>`
                  <p>${p.startsWith("لقد وفرت")?"🟢":p.includes("الإنفاق")?"🔴":"🧠"} ${p}</p>
                `).join("")}
              </div>
            </div>
            
            <div class="section">
              <h2>📆 نحو نمو مالي أفضل</h2>
              <p>استخدم التقارير الشهرية كمرآة تعكس عاداتك المالية — وابدأ الشهر الجديد بهدف واضح وتحكم أفضل في مصاريفك.</p>
              
              <a href="#" class="cta-button">📲 فتح التقرير في التطبيق</a>
            </div>
          </div>
          
          <div class="footer">
            <p>تم إنشاء هذا التقرير تلقائياً عبر تطبيق Grow Up © ${new Date().getFullYear()}</p>
          </div>
        </div>
      </body>
      </html>
    `,C=async p=>{if(p.preventDefault(),!i){a({title:"خطأ",description:"الرجاء إدخال عنوان البريد الإلكتروني",variant:"destructive"});return}if(!m){a({title:"خطأ",description:"الرجاء إدخال رابط Webhook الخاص بك",variant:"destructive"});return}v(!0),console.log("إرسال تقرير إلى:",i),console.log("باستخدام Webhook:",m);try{const S=j(),W=await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},mode:"no-cors",body:JSON.stringify({email:i,subject:`تقريرك المالي الشهري - ${N}`,htmlContent:S,reportData:g,timestamp:new Date().toISOString()})});a({title:"تم إرسال الطلب",description:"تم إرسال طلب التقرير بنجاح! تحقق من بريدك الإلكتروني قريباً."}),d(!1)}catch(S){console.error("خطأ في إرسال التقرير:",S),a({title:"حدث خطأ",description:"تعذر إرسال التقرير، الرجاء المحاولة مرة أخرى.",variant:"destructive"})}finally{v(!1)}},V=()=>{const p=window.open("","_blank");p?(p.document.write(j()),p.document.close()):a({title:"تم حظر النوافذ المنبثقة",description:"يرجى السماح بالنوافذ المنبثقة لمعاينة التقرير.",variant:"destructive"})};return e.jsxs(y,{className:"mt-6 mb-6",children:[e.jsx(E,{className:"pb-2",children:e.jsxs(T,{className:"text-right font-cairo flex items-center justify-end gap-2",children:[e.jsx(pe,{className:"h-5 w-5"}),"التقرير المالي الشهري"]})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-md border border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(k,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[e.jsx(ms,{className:"h-4 w-4 ml-1"}),"إرسال بالبريد"]}),e.jsxs(k,{size:"sm",variant:"outline",onClick:V,children:[e.jsx(hs,{className:"h-4 w-4 ml-1"}),"معاينة التقرير"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("h3",{className:"font-cairo font-bold",children:["تقرير شهر ",N]}),e.jsx("p",{className:"text-sm text-gray-500",children:"يتم إنشاؤه تلقائياً في نهاية كل شهر"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white shadow rounded-md p-4 border-r-4 border-blue-500",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-2",children:[e.jsx("h3",{className:"font-cairo font-bold",children:"ملخص الراتب والمصروفات"}),e.jsx(Ns,{className:"h-5 w-5 text-blue-500"})]}),e.jsxs("div",{className:"space-y-2 mt-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"font-medium",children:[r.toFixed(0)," ريال"]}),e.jsx("span",{children:"الراتب الكلي"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"font-medium",children:[b.toFixed(0)," ريال"]}),e.jsx("span",{children:"إجمالي المصروفات"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"font-medium",children:[l.toFixed(1),"%"]}),e.jsx("span",{children:"النسبة المستهلكة"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:`font-medium ${u>=0?"text-green-600":"text-red-600"}`,children:[u.toFixed(0)," ريال"]}),e.jsx("span",{children:"المتبقي"})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-md p-4 border-r-4 border-purple-500",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-2",children:[e.jsx("h3",{className:"font-cairo font-bold",children:"تصنيف المصروفات"}),e.jsx(ws,{className:"h-5 w-5 text-purple-500"})]}),e.jsxs("div",{className:"mt-3",children:[h.name&&e.jsxs("div",{className:"bg-purple-50 p-2 rounded-md text-right mb-2",children:[e.jsx("span",{className:"block text-sm text-gray-600",children:"أكثر بند تم الصرف عليه:"}),e.jsxs("span",{className:"font-bold",children:[h.name," - ",h.value.toFixed(0)," ريال"]})]}),e.jsx("div",{className:"max-h-36 overflow-y-auto",children:n.map((p,S)=>e.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100",children:[e.jsxs("span",{children:[p.value.toFixed(0)," ريال"]}),e.jsx("span",{children:p.name})]},S))})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-md p-4 border-r-4 border-amber-500",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3",children:[e.jsx("h3",{className:"font-cairo font-bold",children:"نصائح وتحليلات سلوكية"}),e.jsx(Z,{className:"h-5 w-5 text-amber-500"})]}),e.jsxs("ul",{className:"space-y-2 list-none p-0 text-right",children:[u>0?e.jsxs("li",{className:"flex items-center justify-end gap-2",children:[e.jsxs("span",{children:["لقد وفرت هذا الشهر ",u.toFixed(0)," ريال — استمر على هذا النهج!"]}),e.jsx(ye,{className:"h-4 w-4 text-green-500"})]}):e.jsxs("li",{className:"flex items-center justify-end gap-2",children:[e.jsxs("span",{children:["تجاوزت مصروفاتك الدخل بـ ",Math.abs(u).toFixed(0)," ريال — حاول تقليص النفقات!"]}),e.jsx(ks,{className:"h-4 w-4 text-red-500"})]}),h.name&&e.jsxs("li",{className:"flex items-center justify-end gap-2",children:[e.jsxs("span",{children:["الإنفاق على ",h.name," كان مرتفعًا — حاول تقليله في الشهر القادم."]}),e.jsx(Te,{className:"h-4 w-4 text-amber-500"})]}),e.jsxs("li",{className:"flex items-center justify-end gap-2",children:[e.jsx("span",{children:"استثمر المتبقي من راتبك في أهدافك الكبرى (تعليم، مشروع، صحة...)."}),e.jsx(Z,{className:"h-4 w-4 text-blue-500"})]})]})]})]})}),e.jsx(le,{open:s,onOpenChange:d,children:e.jsxs(ce,{className:"max-w-md",children:[e.jsx(oe,{children:e.jsx(de,{className:"text-right",children:"إرسال التقرير بالبريد الإلكتروني"})}),e.jsxs("form",{onSubmit:C,className:"space-y-4 mt-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-right block",htmlFor:"email",children:"البريد الإلكتروني"}),e.jsx(P,{id:"email",type:"email",dir:"ltr",placeholder:"user@example.com",value:i,onChange:p=>o(p.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-right block",htmlFor:"webhook",children:"رابط Webhook (Zapier أو خدمة مماثلة)"}),e.jsx(P,{id:"webhook",type:"url",dir:"ltr",placeholder:"https://hooks.zapier.com/...",value:m,onChange:p=>x(p.target.value),required:!0}),e.jsx("p",{className:"text-xs text-gray-500 text-right",children:"هذا الرابط سيستخدم لإرسال البريد الإلكتروني عبر خدمة مثل Zapier"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(k,{type:"button",variant:"outline",onClick:()=>d(!1),children:"إلغاء"}),e.jsx(k,{type:"submit",className:"bg-growup hover:bg-growup-dark",disabled:f,children:f?"جاري الإرسال...":"إرسال التقرير"})]})]})]})})]})}function ft(){const{toast:r}=O(),[n,t]=c.useState(0),[a,s]=c.useState(0),[d,i]=c.useState("expenses"),[o,m]=c.useState([]),[x,f]=c.useState({totalAmount:0,withdrawals:[]});c.useEffect(()=>{m([{name:"الطعام والشراب",value:1200,color:"#FF6384"},{name:"المواصلات",value:800,color:"#36A2EB"},{name:"اشتراكات وخدمات",value:400,color:"#FFCE56"},{name:"ترفيه وتسوق",value:600,color:"#4BC0C0"},{name:"التزامات",value:1500,color:"#9966FF"}])},[]);const v=b=>{t(b),r({title:"تم تحديث الدخل الشهري",description:`تم تحديث دخلك الشهري إلى ${b} ريال`})},N=()=>{v(a)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(xs,{showBackButton:!0,title:"التخطيط المالي"}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs(ge,{defaultValue:"expenses",value:d,onValueChange:i,className:"mb-6",children:[e.jsxs(je,{className:"grid grid-cols-3 mb-4",children:[e.jsx(z,{value:"expenses",className:"font-cairo",children:"المصروفات"}),e.jsx(z,{value:"obligations",className:"font-cairo",children:"الالتزامات"}),e.jsx(z,{value:"reports",className:"font-cairo",children:"التقارير"})]}),e.jsxs(q,{value:"expenses",children:[e.jsx("section",{className:"mb-6",children:e.jsxs(y,{children:[e.jsx(E,{children:e.jsxs(T,{className:"text-right font-cairo flex items-center justify-end gap-2",children:[e.jsx(Ss,{className:"h-5 w-5"}),"الدخل الشهري"]})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-right block font-cairo",htmlFor:"monthly-income",children:"أدخل دخلك الشهري (ر.س)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(k,{onClick:N,className:"bg-growup hover:bg-growup-dark",children:"حفظ"}),e.jsx(P,{id:"monthly-income",type:"number",min:"0",value:a||"",onChange:b=>s(Number(b.target.value)),placeholder:"مثال: 10000",className:"text-right"})]}),n>0&&e.jsxs("div",{className:"mt-2 text-right text-sm text-gray-600 font-cairo",children:["الدخل الشهري الحالي: ",n," ريال"]})]})})]})}),e.jsx("section",{className:"mb-6",children:e.jsx(Ks,{income:n,setIncome:t})}),e.jsx(Zs,{income:n}),e.jsx(Ys,{}),e.jsx(et,{income:n}),e.jsx(tt,{})]}),e.jsx(q,{value:"obligations",children:e.jsx($s,{})}),e.jsx(q,{value:"reports",children:e.jsx(at,{income:n,expenses:o,emergencyFund:x})})]})})]})}export{ft as default};
