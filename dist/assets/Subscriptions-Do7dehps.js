import{Y as j,r as se,j as e,B as $,a6 as I,C as T,d as E,e as _,f as F,g as G,w as fe,x as je,y as V,z as D}from"./index-Dydho1Ek.js";import{A as ve,a as ge}from"./AdminHeader-Da3Y0W66.js";import{T as R,a as Y,b as A,c as h,d as M,e as x}from"./table-Dm_7i18F.js";import{S as ye}from"./switch-DyWKp9ww.js";import{u as be,a as pe,b as Ne,i as y,c as Pe,d as we,e as K,w as U,g as ne,f as le,h as ce,j as de,k as Oe,R as oe,C as Ae,T as he,L as xe,X as ze,Y as Z,B as W}from"./generateCategoricalChart-Deu-DJt-.js";import{P as Ce,a as Se}from"./PieChart-CyKP3Aci.js";import{B as ke}from"./BarChart-sPf9bSPc.js";import"./circle-vTFHL_ly.js";import"./index-fMh3bV7v.js";var Te=["x1","y1","x2","y2","key"],Ee=["offset"];function P(t){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},P(t)}function ee(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);i&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,r)}return a}function v(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?ee(Object(a),!0).forEach(function(r){_e(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function _e(t,i,a){return i=Fe(i),i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}function Fe(t){var i=Ge(t,"string");return P(i)=="symbol"?i:i+""}function Ge(t,i){if(P(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,i||"default");if(P(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function N(){return N=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},N.apply(this,arguments)}function te(t,i){if(t==null)return{};var a=$e(t,i),r,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)r=l[s],!(i.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function $e(t,i){if(t==null)return{};var a={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(i.indexOf(r)>=0)continue;a[r]=t[r]}return a}var Ie=function(i){var a=i.fill;if(!a||a==="none")return null;var r=i.fillOpacity,s=i.x,l=i.y,c=i.width,m=i.height,u=i.ry;return j.createElement("rect",{x:s,y:l,ry:u,width:c,height:m,stroke:"none",fill:a,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ue(t,i){var a;if(j.isValidElement(t))a=j.cloneElement(t,i);else if(K(t))a=t(i);else{var r=i.x1,s=i.y1,l=i.x2,c=i.y2,m=i.key,u=te(i,Te),d=Oe(u,!1);d.offset;var n=te(d,Ee);a=j.createElement("line",N({},n,{x1:r,y1:s,x2:l,y2:c,fill:"none",key:m}))}return a}function Be(t){var i=t.x,a=t.width,r=t.horizontal,s=r===void 0?!0:r,l=t.horizontalPoints;if(!s||!l||!l.length)return null;var c=l.map(function(m,u){var d=v(v({},t),{},{x1:i,y1:m,x2:i+a,y2:m,key:"line-".concat(u),index:u});return ue(s,d)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function He(t){var i=t.y,a=t.height,r=t.vertical,s=r===void 0?!0:r,l=t.verticalPoints;if(!s||!l||!l.length)return null;var c=l.map(function(m,u){var d=v(v({},t),{},{x1:m,y1:i,x2:m,y2:i+a,key:"line-".concat(u),index:u});return ue(s,d)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Le(t){var i=t.horizontalFill,a=t.fillOpacity,r=t.x,s=t.y,l=t.width,c=t.height,m=t.horizontalPoints,u=t.horizontal,d=u===void 0?!0:u;if(!d||!i||!i.length)return null;var n=m.map(function(o){return Math.round(o+s-s)}).sort(function(o,f){return o-f});s!==n[0]&&n.unshift(0);var b=n.map(function(o,f){var w=!n[f+1],g=w?s+c-o:n[f+1]-o;if(g<=0)return null;var p=f%i.length;return j.createElement("rect",{key:"react-".concat(f),y:o,x:r,height:g,width:l,stroke:"none",fill:i[p],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},b)}function Ve(t){var i=t.vertical,a=i===void 0?!0:i,r=t.verticalFill,s=t.fillOpacity,l=t.x,c=t.y,m=t.width,u=t.height,d=t.verticalPoints;if(!a||!r||!r.length)return null;var n=d.map(function(o){return Math.round(o+l-l)}).sort(function(o,f){return o-f});l!==n[0]&&n.unshift(0);var b=n.map(function(o,f){var w=!n[f+1],g=w?l+m-o:n[f+1]-o;if(g<=0)return null;var p=f%r.length;return j.createElement("rect",{key:"react-".concat(f),x:o,y:c,width:g,height:u,stroke:"none",fill:r[p],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},b)}var De=function(i,a){var r=i.xAxis,s=i.width,l=i.height,c=i.offset;return ne(le(v(v(v({},de.defaultProps),r),{},{ticks:ce(r,!0),viewBox:{x:0,y:0,width:s,height:l}})),c.left,c.left+c.width,a)},We=function(i,a){var r=i.yAxis,s=i.width,l=i.height,c=i.offset;return ne(le(v(v(v({},de.defaultProps),r),{},{ticks:ce(r,!0),viewBox:{x:0,y:0,width:s,height:l}})),c.top,c.top+c.height,a)},O={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function me(t){var i,a,r,s,l,c,m=be(),u=pe(),d=Ne(),n=v(v({},t),{},{stroke:(i=t.stroke)!==null&&i!==void 0?i:O.stroke,fill:(a=t.fill)!==null&&a!==void 0?a:O.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:O.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:O.horizontalFill,vertical:(l=t.vertical)!==null&&l!==void 0?l:O.vertical,verticalFill:(c=t.verticalFill)!==null&&c!==void 0?c:O.verticalFill,x:y(t.x)?t.x:d.left,y:y(t.y)?t.y:d.top,width:y(t.width)?t.width:d.width,height:y(t.height)?t.height:d.height}),b=n.x,o=n.y,f=n.width,w=n.height,g=n.syncWithTicks,p=n.horizontalValues,L=n.verticalValues,z=Pe(),C=we();if(!y(f)||f<=0||!y(w)||w<=0||!y(b)||b!==+b||!y(o)||o!==+o)return null;var X=n.verticalCoordinatesGenerator||De,q=n.horizontalCoordinatesGenerator||We,S=n.horizontalPoints,k=n.verticalPoints;if((!S||!S.length)&&K(q)){var J=p&&p.length,B=q({yAxis:C?v(v({},C),{},{ticks:J?p:C.ticks}):void 0,width:m,height:u,offset:d},J?!0:g);U(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(P(B),"]")),Array.isArray(B)&&(S=B)}if((!k||!k.length)&&K(X)){var Q=L&&L.length,H=X({xAxis:z?v(v({},z),{},{ticks:Q?L:z.ticks}):void 0,width:m,height:u,offset:d},Q?!0:g);U(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(P(H),"]")),Array.isArray(H)&&(k=H)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(Ie,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),j.createElement(Be,N({},n,{offset:d,horizontalPoints:S,xAxis:z,yAxis:C})),j.createElement(He,N({},n,{offset:d,verticalPoints:k,xAxis:z,yAxis:C})),j.createElement(Le,N({},n,{horizontalPoints:S})),j.createElement(Ve,N({},n,{verticalPoints:k})))}me.displayName="CartesianGrid";const ie=[{id:"plan1",name:"الباقة الشهرية الأساسية",price:49.99,interval:"شهري",features:["تتبع الأهداف","تخطيط مالي","تطوير العادات"],isActive:!0,isPopular:!1},{id:"plan2",name:"الباقة السنوية الأساسية",price:499.99,interval:"سنوي",features:["تتبع الأهداف","تخطيط مالي","تطوير العادات"],isActive:!0,isPopular:!0},{id:"plan3",name:"الباقة الشهرية المتميزة",price:99.99,interval:"شهري",features:["تتبع الأهداف","تخطيط مالي","تطوير العادات","استشارات شخصية","تقارير متقدمة"],isActive:!0,isPopular:!1},{id:"plan4",name:"الباقة السنوية المتميزة",price:999.99,interval:"سنوي",features:["تتبع الأهداف","تخطيط مالي","تطوير العادات","استشارات شخصية","تقارير متقدمة"],isActive:!1,isPopular:!1}];function Ke(){const[t,i]=se.useState(ie),a=r=>{i(ie.map(s=>s.id===r?{...s,isActive:!s.isActive}:s))};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"إدارة خطط الاشتراك"}),e.jsx($,{size:"sm",children:"إضافة خطة جديدة"})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(R,{children:[e.jsx(Y,{children:e.jsxs(A,{children:[e.jsx(h,{children:"اسم الخطة"}),e.jsx(h,{children:"السعر"}),e.jsx(h,{children:"الميزات"}),e.jsx(h,{children:"الحالة"}),e.jsx(h,{className:"text-left"})]})}),e.jsx(M,{children:t.map(r=>e.jsxs(A,{children:[e.jsxs(x,{className:"font-medium",children:[r.name,r.isPopular&&e.jsx(I,{className:"mr-2 bg-growup",children:"الأكثر شعبية"})]}),e.jsxs(x,{children:[r.price," ج.م",e.jsxs("span",{className:"text-muted-foreground text-xs mr-1",children:["/ ",r.interval]})]}),e.jsx(x,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.features.slice(0,2).map((s,l)=>e.jsx(I,{variant:"outline",className:"text-xs",children:s},l)),r.features.length>2&&e.jsxs(I,{variant:"outline",className:"text-xs",children:["+",r.features.length-2]})]})}),e.jsx(x,{children:e.jsx(ye,{checked:r.isActive,onCheckedChange:()=>a(r.id)})}),e.jsx(x,{children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx($,{variant:"ghost",size:"sm",children:"تعديل"}),e.jsx($,{variant:"ghost",size:"sm",className:"text-red-500",children:"حذف"})]})})]},r.id))})]})})]})}const Re=[{id:"pay1",user:"أحمد محمد",email:"ahmed@example.com",amount:499.99,status:"ناجح",date:"15 مايو 2024",plan:"سنوي أساسي",method:"بطاقة ائتمان"},{id:"pay2",user:"سارة علي",email:"sara@example.com",amount:49.99,status:"ناجح",date:"12 مايو 2024",plan:"شهري أساسي",method:"بطاقة ائتمان"},{id:"pay3",user:"محمد أحمد",email:"mohamed@example.com",amount:999.99,status:"ناجح",date:"10 مايو 2024",plan:"سنوي متميز",method:"PayPal"},{id:"pay4",user:"نورا كريم",email:"nora@example.com",amount:49.99,status:"فاشل",date:"8 مايو 2024",plan:"شهري أساسي",method:"بطاقة ائتمان"},{id:"pay5",user:"عمر خالد",email:"omar@example.com",amount:99.99,status:"ناجح",date:"5 مايو 2024",plan:"شهري متميز",method:"PayPal"}];function Ye(){return e.jsxs("div",{children:[e.jsx("div",{className:"mb-4",children:e.jsx("h3",{className:"text-lg font-medium",children:"سجل المدفوعات"})}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(R,{children:[e.jsx(Y,{children:e.jsxs(A,{children:[e.jsx(h,{children:"المستخدم"}),e.jsx(h,{children:"الخطة"}),e.jsx(h,{children:"المبلغ"}),e.jsx(h,{children:"تاريخ الدفع"}),e.jsx(h,{children:"طريقة الدفع"}),e.jsx(h,{children:"الحالة"})]})}),e.jsx(M,{children:Re.map(t=>e.jsxs(A,{children:[e.jsx(x,{className:"font-medium",children:e.jsxs("div",{children:[e.jsx("div",{children:t.user}),e.jsx("div",{className:"text-xs text-muted-foreground",children:t.email})]})}),e.jsx(x,{children:t.plan}),e.jsxs(x,{children:[t.amount," ج.م"]}),e.jsx(x,{children:t.date}),e.jsx(x,{children:t.method}),e.jsx(x,{children:e.jsx(I,{className:t.status==="ناجح"?"bg-green-500":"bg-red-500",children:t.status})})]},t.id))})]})})]})}const Me=[{id:"ref1",user:"نورا كريم",email:"nora@example.com",amount:499.99,status:"قيد المراجعة",date:"14 مايو 2024",plan:"سنوي أساسي",reason:"لم يلبِ التطبيق احتياجاتي"},{id:"ref2",user:"كريم محمود",email:"kareem@example.com",amount:99.99,status:"موافق",date:"10 مايو 2024",plan:"شهري متميز",reason:"مشاكل تقنية"},{id:"ref3",user:"رنا سليم",email:"rana@example.com",amount:49.99,status:"مرفوض",date:"5 مايو 2024",plan:"شهري أساسي",reason:"تجاوز المدة المسموحة للاسترداد"}];function Xe(){return e.jsxs("div",{children:[e.jsx("div",{className:"mb-4",children:e.jsx("h3",{className:"text-lg font-medium",children:"طلبات استرداد الأموال"})}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(R,{children:[e.jsx(Y,{children:e.jsxs(A,{children:[e.jsx(h,{children:"المستخدم"}),e.jsx(h,{children:"الخطة"}),e.jsx(h,{children:"المبلغ"}),e.jsx(h,{children:"تاريخ الطلب"}),e.jsx(h,{children:"سبب الاسترداد"}),e.jsx(h,{children:"الحالة"}),e.jsx(h,{className:"text-left"})]})}),e.jsx(M,{children:Me.map(t=>e.jsxs(A,{children:[e.jsx(x,{className:"font-medium",children:e.jsxs("div",{children:[e.jsx("div",{children:t.user}),e.jsx("div",{className:"text-xs text-muted-foreground",children:t.email})]})}),e.jsx(x,{children:t.plan}),e.jsxs(x,{children:[t.amount," ج.م"]}),e.jsx(x,{children:t.date}),e.jsx(x,{children:e.jsx("span",{className:"text-sm",children:t.reason})}),e.jsx(x,{children:e.jsx(I,{className:t.status==="موافق"?"bg-green-500":t.status==="مرفوض"?"bg-red-500":"bg-yellow-500",children:t.status})}),e.jsx(x,{children:t.status==="قيد المراجعة"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx($,{size:"sm",variant:"outline",className:"text-green-500",children:"قبول"}),e.jsx($,{size:"sm",variant:"outline",className:"text-red-500",children:"رفض"})]})})]},t.id))})]})})]})}const re=[{name:"الخطة الشهرية",value:65},{name:"الخطة السنوية",value:35}],ae=["#219653","#1A73E8"];function qe(){return e.jsx("div",{className:"h-[350px] w-full",children:e.jsx(oe,{width:"100%",height:"100%",children:e.jsxs(Ce,{children:[e.jsx(Se,{data:re,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,fill:"#8884d8",paddingAngle:5,dataKey:"value",labelLine:!1,label:({name:t,percent:i})=>`${t} ${(i*100).toFixed(0)}%`,children:re.map((t,i)=>e.jsx(Ae,{fill:ae[i%ae.length]},`cell-${i}`))}),e.jsx(he,{formatter:t=>`${t}%`}),e.jsx(xe,{})]})})})}const Je=[{month:"يناير",الإيرادات:4e3,الاشتراكات_الجديدة:24,الاشتراكات_المجددة:18},{month:"فبراير",الإيرادات:4500,الاشتراكات_الجديدة:28,الاشتراكات_المجددة:22},{month:"مارس",الإيرادات:6e3,الاشتراكات_الجديدة:35,الاشتراكات_المجددة:26},{month:"أبريل",الإيرادات:7200,الاشتراكات_الجديدة:42,الاشتراكات_المجددة:30},{month:"مايو",الإيرادات:9500,الاشتراكات_الجديدة:54,الاشتراكات_المجددة:35},{month:"يونيو",الإيرادات:12e3,الاشتراكات_الجديدة:65,الاشتراكات_المجددة:42}];function Qe(){return e.jsx("div",{className:"h-[350px] w-full",children:e.jsx(oe,{width:"100%",height:"100%",children:e.jsxs(ke,{data:Je,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(me,{strokeDasharray:"3 3"}),e.jsx(ze,{dataKey:"month"}),e.jsx(Z,{yAxisId:"left",orientation:"left"}),e.jsx(Z,{yAxisId:"right",orientation:"right"}),e.jsx(he,{}),e.jsx(xe,{}),e.jsx(W,{yAxisId:"left",dataKey:"الإيرادات",fill:"#219653",name:"الإيرادات (ج.م)"}),e.jsx(W,{yAxisId:"right",dataKey:"الاشتراكات_الجديدة",fill:"#1A73E8",name:"الاشتراكات الجديدة"}),e.jsx(W,{yAxisId:"right",dataKey:"الاشتراكات_المجددة",fill:"#FFC107",name:"الاشتراكات المجددة"})]})})})}function lt(){const[t,i]=se.useState("plans");return e.jsxs("div",{className:"flex min-h-screen bg-background",children:[e.jsx(ve,{}),e.jsxs("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:[e.jsx(ge,{heading:"الاشتراكات والمدفوعات",text:"إدارة خطط الاشتراك، عرض وتحليل المدفوعات"}),e.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(T,{children:[e.jsxs(E,{className:"pb-2",children:[e.jsx(_,{children:"إجمالي الإيرادات"}),e.jsx(F,{children:"هذا الشهر"})]}),e.jsxs(G,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"3,850 ج.م"}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.jsx("span",{className:"text-green-500 inline-flex items-center",children:"+12.4%"})," ","مقارنة بالشهر السابق"]})]})]}),e.jsxs(T,{children:[e.jsxs(E,{className:"pb-2",children:[e.jsx(_,{children:"معدل التحويل"}),e.jsx(F,{children:"مستخدمين مجاني → مدفوع"})]}),e.jsxs(G,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"18.2%"}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.jsx("span",{className:"text-green-500",children:"+2.3%"})," ","مقارنة بالشهر السابق"]})]})]}),e.jsxs(T,{children:[e.jsxs(E,{className:"pb-2",children:[e.jsx(_,{children:"معدل الاحتفاظ"}),e.jsx(F,{children:"تجديد الاشتراكات"})]}),e.jsxs(G,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"76.8%"}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.jsx("span",{className:"text-red-500",children:"-1.2%"})," ","مقارنة بالشهر السابق"]})]})]})]}),e.jsxs(T,{children:[e.jsxs(E,{children:[e.jsx(_,{children:"توزيع الاشتراكات"}),e.jsx(F,{children:"مقارنة بين الخطط الشهرية والسنوية"})]}),e.jsx(G,{className:"p-0",children:e.jsx(qe,{})})]}),e.jsxs(T,{className:"col-span-3",children:[e.jsxs(E,{children:[e.jsx(_,{children:"مؤشرات الإيرادات"}),e.jsx(F,{children:"تحليل أداء الإيرادات عبر الزمن"})]}),e.jsx(G,{children:e.jsx(Qe,{})})]}),e.jsxs(fe,{defaultValue:"plans",value:t,onValueChange:i,className:"w-full",children:[e.jsxs(je,{className:"grid w-full grid-cols-3",children:[e.jsx(V,{value:"plans",children:"خطط الاشتراك"}),e.jsx(V,{value:"payments",children:"المدفوعات"}),e.jsx(V,{value:"refunds",children:"طلبات الاسترداد"})]}),e.jsx(D,{value:"plans",className:"space-y-4",children:e.jsx(Ke,{})}),e.jsx(D,{value:"payments",className:"space-y-4",children:e.jsx(Ye,{})}),e.jsx(D,{value:"refunds",className:"space-y-4",children:e.jsx(Xe,{})})]})]})]})}export{lt as default};
